@use "../variables" as *;
@use "../mixins" as *;
@use "./_theme-theme-c";

/* トップページ（theme-c）専用スタイル */
.theme-c-theme {
  // セクションパディング（縦）
  --theme-section-padding-y-xs: 40px;
  --theme-section-padding-y-sm: 64px;
  --theme-section-padding-y-md: 64px;
  --theme-section-padding-y-lg: 64px;
  --theme-section-padding-y-xl: 64px;
  // セクションパディング（横）
  --theme-section-padding-x-xs: 20px;
  --theme-section-padding-x-sm: 20px;
  --theme-section-padding-x-md: 64px;
  --theme-section-padding-x-lg: 0px;
  --theme-section-padding-x-xl: 0px;

  // コンテンツ幅
  --theme-content-width-xs: 100%;
  --theme-content-width-sm: 896px;
  --theme-content-width-md: 1180px;
  --theme-content-width-lg: 1180px;
  --theme-content-width-xl: 1180px;
  --theme-content-width-top-container-xs: 100%; //トップページ最上部のコンテナサイズ
  --theme-content-width-top-container-sm: 700px; //トップページ最上部のコンテナサイズ
  --theme-content-width-top-container-md: 1150px; //トップページ最上部のコンテナサイズ
  --theme-content-width-top-container-lg: 1150px; //トップページ最上部のコンテナサイズ
  --theme-content-width-top-container-xl: 1150px; //トップページ最上部のコンテナサイズ

  // コンテンツパディング(横)
  --theme-content-padding-x-xs: 0px;
  --theme-content-padding-x-sm: 0px;
  --theme-content-padding-x-md: 0px;
  --theme-content-padding-x-lg: 0px;
  --theme-content-padding-x-xl: 0px;

  // タイトル
  --theme-title-font-size: 24px;
  --theme-title-line-height: 1.33;
  --theme-title-font-weight: 600;
  --theme-title-color: #333333;

  .prj-section-component {
    .prj-section-head {
      margin-bottom: 32px;
      @include sm {
        margin-bottom: 36px;
      }
      @include md {
        margin-bottom: 36px;
      }
      @include lg {
        margin-bottom: 36px;
      }
      @include xl {
        margin-bottom: 36px;
      }
    }
  }

  .theme-c-top-swiper {
    width: 100%;
    overflow: hidden;
    border-radius: var(--theme-border-radius-card);
    .swiper-slide {
      width: 100% !important; //※削除注意。消すとswiperの自動幅計算が上手くいかなくなる
      .prj-card-component {
        width: 100%;
        .prj-card-head {
          .prj-card-image-link {
            display: block;
            width: 100%;
            .prj-card-image {
              img {
                aspect-ratio: 3/2;
                display: block;
                width: 100%;
                height: 100%;
                max-width: 100%;
              }
            }
          }
          .prj-card-category {
            display: none;
            font-size: 12px;
            line-height: 1.33; // 12/16
            font-weight: 600;
            color: var(--text-primary);
            border-radius: 4px;
            text-align: center;
            background-color: var(--theme-category-1);
            padding: 6px 12px;
            margin-top: 20px;
            @include md {
              display: inline-block;
            }
            @include lg {
              display: inline-block;
            }
            @include xl {
              display: inline-block;
            }
          }
        }
        .prj-card-body {
          .prj-card-title {
            font-size: 16px;
            line-height: 24px;
            font-weight: 700;
            color: #333333;
            margin-top: 20px;
            margin-bottom: 12px;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            @include md {
              font-size: 24px;
              line-height: 32px;
              margin-top: 12px;
            }
            @include lg {
              font-size: 24px;
              line-height: 32px;
              margin-top: 12px;
            }
            @include xl {
              font-size: 24px;
              line-height: 32px;
              margin-top: 12px;
            }
          }
          .prj-card-author-info {
            margin-bottom: 12px;
            .prj-card-author {
              align-items: flex-start;
              .prj-card-follow {
                margin-top: 8px;
                .prj-card-follow-text,
                .prj-card-follow-count {
                  font-size: 14px;
                  line-height: 20px;
                  font-weight: 400;
                  color: #333333;
                  @include md {
                    font-size: 14px;
                    line-height: 20px;
                    font-weight: 400;
                  }
                  @include lg {
                    font-size: 14px;
                    line-height: 20px;
                    font-weight: 400;
                  }
                  @include xl {
                    font-size: 14px;
                    line-height: 20px;
                    font-weight: 400;
                  }
                }
              }
            }
          }
        }
        .prj-card-foot {
          border-top: 1px solid #000000;
          padding-top: 12px;
          padding-bottom: 12px;
          .prj-card-date {
            font-size: 14px;
            line-height: 20px;
            font-weight: 500;
            color: #333333;
            margin-top: 1px;
          }
          .prj-card-stats {
            font-size: 14px;
            line-height: 20px;
            font-weight: 400;
            .prj-card-views {
              gap: 4px;
              .prj-card-views-icon {
                width: 14px;
                height: 14px;
              }
              span {
                transform: translateY(1.2px);
              }
            }
            .prj-card-likes {
              gap: 4px;
              .prj-card-likes-icon {
                width: 14px;
                height: 14px;
              }
              span {
                transform: translateY(1.2px);
              }
            }
            .prj-card-comments {
              gap: 4px;
              .prj-card-comments-icon {
                width: 14px;
                height: 14px;
              }
              span {
                transform: translateY(1.3px);
              }
            }
          }
        }
      }
    }
    // ページネーション
    .swiper-pagination {
      width: min-content !important;
      position: static !important;
      margin-top: 0 !important;
      gap: 10px !important;
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
      .swiper-pagination-bullet {
        background-color: #d9d9d9 !important;
        &-active {
          background-color: #333333 !important;
        }
      }
    }
  }
  .theme-c-top-horizontal-swiper {
    .swiper-slide {
      flex-basis: content !important; //カード同士が自動で広がるのを防ぐ
      & > a {
        display: block;
        padding: 10px;
        &:hover {
          background-color: var(--hover-bg-color);
          opacity: var(--hover-opacity);
          transition: all 0.3s ease;
        }
      }
    }
    .section-swiper-button {
      &-prev,
      &-next {
        display: flex;
        top: 50%;
        transform: translateY(-50%);
        width: 44px;
        height: 44px;
        background-color: white;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        transition: opacity 0.3s;
        box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
        &:hover {
          opacity: var(--hover-opacity);
        }
        &::after {
          content: "";
        }
        & .material-symbols-rounded {
          color: #333333;
        }
      }

      &-prev {
        left: 5%;
      }

      &-next {
        right: 5%;
      }
    }
  }
  .theme-c-top-vertical-swiper {
    .swiper-slide {
      flex-basis: content !important; //カード同士が自動で広がるのを防ぐ
      & > a {
        display: block;
        &:hover {
          background-color: var(--hover-bg-color);
          opacity: var(--hover-opacity);
          transition: all 0.3s ease;
        }
      }
    }
    .section-swiper-button {
      &-prev,
      &-next {
        display: flex;
        top: 50%;
        transform: translateY(-50%);
        width: 44px;
        height: 44px;
        background-color: white;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        transition: opacity 0.3s;
        box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
        &:hover {
          opacity: var(--hover-opacity);
        }
        &::after {
          content: "";
        }
        & .material-symbols-rounded {
          color: #333333;
        }
      }

      &-prev {
        left: 50%;
        transform: translateX(-50%);
        // top: 1.5%;
        top: -10px;
        transform: translateY(50%);
      }

      &-next {
        left: 50%;
        transform: translateX(-50%);
        // top: 42%;
        top: 660px;
        transform: translateY(50%);
      }
    }
  }
  .ranking {
    .prj-content-sort-switch-button-3col-icon-component {
      background-color: white;
      border-radius: var(--theme-border-radius);
      border: none;
      box-shadow: 2px 2px 2px 0px #00000040;
      .prj-content-sort-switch-button-item {
        box-shadow: 2px 2px 2px 0px #00000040;
        border-radius: 0px;
      }
    }
    ol > li {
      width: 100%;
    }
  }
  .follow,
  .new,
  .ranking {
    // 汎用カードコンポーネント（メディア型）
    .prj-card-component {
      width: 100%;
      border-bottom: 1px solid #bcbcbc;
      .prj-card-flex {
        display: flex;
        align-items: center;
        gap: 12px;
        @include sm {
          align-items: flex-start;
          gap: 20px;
        }
        @include md {
          align-items: flex-start;
          gap: 20px;
        }
        @include lg {
          align-items: flex-start;
          gap: 20px;
        }
        @include xl {
          align-items: flex-start;
          gap: 20px;
        }
      }
      .prj-card-head {
        width: 100%;
        max-width: 150px;
        @include sm {
          max-width: 175px;
        }
        @include md {
          max-width: 175px;
        }
        @include lg {
          max-width: 175px;
        }
        @include xl {
          max-width: 175px;
        }
        .prj-card-image-link {
          width: 100% !important; //※削除注意。消すとswiperの自動幅計算が上手くいかなくなる
          .prj-card-image {
            img {
              aspect-ratio: 3/2;
              display: block;
              width: 100%;
              height: auto;
              max-width: 100%;
            }
          }
        }
        .swiper-button-prev {
          border-radius: 0 var(--theme-border-radius) var(--theme-border-radius)
            0;
        }
        .swiper-button-next {
          border-radius: var(--theme-border-radius) 0 0
            var(--theme-border-radius);
        }
      }
      .prj-card-body {
        flex: 1;
        .prj-card-title {
          margin-top: 0px;
          margin-bottom: 8px;
          -webkit-line-clamp: 3;
          line-clamp: 3;
          @include sm {
            font-size: 16px;
            line-height: 24px;
          }
          @include md {
            line-height: 24px;
          }
          @include lg {
            line-height: 24px;
          }
          @include xl {
            line-height: 24px;
          }
        }
        .prj-card-author-info {
          .prj-card-author {
            align-items: flex-start;
            .prj-card-follow {
              margin-top: 4px;
              .prj-card-follow-text,
              .prj-card-follow-count {
                @include sm {
                  font-size: 14px;
                  line-height: 20px;
                  font-weight: 400;
                  color: var(--text-primary);
                }
                @include md {
                  font-size: 14px;
                  line-height: 20px;
                  font-weight: 400;
                  color: var(--text-primary);
                }
                @include lg {
                  font-size: 14px;
                  line-height: 20px;
                  font-weight: 400;
                  color: var(--text-primary);
                }
                @include xl {
                  font-size: 14px;
                  line-height: 20px;
                  font-weight: 400;
                  color: var(--text-primary);
                }
              }
            }
          }
        }
      }
      .prj-card-foot {
        padding-top: 8px;
        padding-bottom: 8px;
        .prj-card-date {
          font-size: 14px;
          line-height: 20px;
          font-weight: 500;
          color: var(--text-primary);
          margin-top: 1px;
        }
        .prj-card-stats {
          font-size: 14px;
          line-height: 20px;
          font-weight: 400;
          .prj-card-views {
            gap: 4px;
            .prj-card-views-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.2px);
            }
          }
          .prj-card-likes {
            gap: 4px;
            .prj-card-likes-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.2px);
            }
          }
          .prj-card-comments {
            gap: 4px;
            .prj-card-comments-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.3px);
            }
          }
        }
      }
    }
    // コンテンツ脇にパディングを追加
    &.prj-section-component {
      .prj-section-body {
        @include lg {
          padding-left: 15px;
          padding-right: 15px;
        }
        @include xl {
          padding-left: 15px;
          padding-right: 15px;
        }
      }
    }
  }
  .new {
    .prj-card-text {
      display: none;
    }
    .prj-card-category {
      display: none;
    }
  }

  .ranking {
    .prj-title-component {
      @include sm {
        flex: 1;
      }
      &:after {
        background-color: #333333;
      }
    }
    li {
      position: relative;
      .ranking-number {
        position: absolute;
        top: -1px;
        left: 0;
        width: 34px;
        height: 34px;
        border-radius: var(--theme-border-radius-card) 0
          var(--theme-border-radius-card) 0;
        overflow: hidden;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        line-height: 1;
        font-weight: 700;
        color: #fff;
        box-shadow: 2px 2px 4px 0px #00000040;

        &.bg-ranking-1::before {
          content: "";
          background-image: url("data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_1057_194628)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.5469 4.99945L7 2.6745L8.4531 4.99945C8.66316 5.33555 9.11414 5.42308 9.43468 5.18996L12.5552 2.92051L11.3566 9.21306C11.3385 9.30787 11.2556 9.37646 11.1591 9.37646H2.84088C2.74436 9.37646 2.66146 9.30787 2.6434 9.21306L1.44482 2.92051L4.56532 5.18996C4.88586 5.42308 5.33684 5.33556 5.5469 4.99945ZM7.57958 1.32612C7.31189 0.897808 6.68811 0.897803 6.42042 1.32612L4.82128 3.88474L1.08632 1.16841C0.585407 0.804105 -0.102971 1.2406 0.0129233 1.84904L1.45858 9.43874C1.585 10.1024 2.16526 10.5826 2.84088 10.5826H11.1591C11.8347 10.5826 12.415 10.1024 12.5414 9.43874L13.9871 1.84904C14.103 1.2406 13.4146 0.804103 12.9137 1.16841L9.17872 3.88474L7.57958 1.32612ZM2.17549 11.7887C1.84243 11.7887 1.57243 12.0587 1.57243 12.3918C1.57243 12.7248 1.84243 12.9948 2.17549 12.9948H11.8245C12.1576 12.9948 12.4276 12.7248 12.4276 12.3918C12.4276 12.0587 12.1576 11.7887 11.8245 11.7887H2.17549Z' fill='white'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1057_194628'%3E%3Crect width='14' height='14' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
          background-size: contain;
          background-repeat: no-repeat;
          background-position: center;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 14px;
          height: 14px;
        }
        &.bg-ranking-2::before {
          content: "2";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
        }
        &.bg-ranking-3::before {
          content: "3";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
        }
        &.bg-ranking-4::before {
          content: "4";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-5::before {
          content: "5";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-6::before {
          content: "6";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-7::before {
          content: "7";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-8::before {
          content: "8";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-9::before {
          content: "9";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-10::before {
          content: "10";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
      }
    }
    .prj-card-component {
      padding: 8px;
      background-color: white;
      border-radius: var(--theme-border-radius-card);
      box-shadow: 0px 0px 4px 0px #00000040;
      @include sm {
        padding: 16px 16px 12px;
      }
      @include md {
        padding: 16px 16px 12px;
      }
      @include lg {
        padding: 16px 20px 12px;
      }
      @include xl {
        padding: 16px 20px 12px;
      }
    }
  }
  .community {
    .swiper-slide {
      flex-basis: content !important; //カード同士が自動で広がるのを防ぐ
    }
  }
}
