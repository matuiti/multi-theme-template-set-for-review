@use "../variables" as *;
@use "../mixins" as *;
@use "./_theme-theme-d";

/* トップページ（theme-d）専用スタイル */
.theme-d-theme {
  // セクションパディング（縦）
  --theme-section-padding-y-xs: 40px;
  --theme-section-padding-y-sm: 64px;
  --theme-section-padding-y-md: 64px;
  --theme-section-padding-y-lg: 56px;
  --theme-section-padding-y-xl: 56px;
  // セクションパディング（横）
  --theme-section-padding-x-xs: 10px;
  --theme-section-padding-x-sm: 40px;
  --theme-section-padding-x-md: 40px;
  --theme-section-padding-x-lg: 40px;
  --theme-section-padding-x-xl: 96px;

  // コンテンツ幅
  --theme-content-width-xs: 100%;
  --theme-content-width-sm: 944px;
  --theme-content-width-md: 944px;
  --theme-content-width-lg: 1110px;
  --theme-content-width-xl: 1478px;

  // コンテンツパディング(横)
  --theme-content-padding-x-xs: 0px;
  --theme-content-padding-x-sm: 0px;
  --theme-content-padding-x-md: 0px;
  --theme-content-padding-x-lg: 0px;
  --theme-content-padding-x-xl: 0px;

  // タイトル
  --theme-title-font-size: 24px;
  --theme-title-line-height: 1.33; // 24/32
  --theme-title-font-weight: 600;
  --theme-title-color: #333333;

  .prj-section-component {
    .prj-section-head {
      margin-bottom: 32px;
      @include sm {
        margin-bottom: 56px;
      }
      @include md {
        margin-bottom: 56px;
      }
      @include lg {
        margin-bottom: 56px;
      }
      @include xl {
        margin-bottom: 56px;
      }
    }
  }

  .theme-d-mv-swiper,
  .community {
    .swiper-slide {
      //カード同士が自動で広がるのを防ぐ
      flex-basis: fit-content !important;
    }
  }

  .follow,
  .new,
  .ranking,
  .pickup {
    // 汎用カードコンポーネント（メディア型）
    .prj-card-component {
      // width: 32%;
      border-radius: 8px;
      padding: 10px 8px;
      box-shadow: 0px 0px 4px 0px #00000040;
      @include sm {
        border-radius: var(--theme-border-radius-card);
        padding: 0px;
        box-shadow: 0px 0px 30px 10px #0000000d;
      }
      @include md {
        border-radius: var(--theme-border-radius-card);
        padding: 0px;
        box-shadow: 0px 0px 30px 10px #0000000d;
      }
      @include lg {
        border-radius: var(--theme-border-radius-card);
        padding: 0px;
        box-shadow: 0px 0px 30px 10px #0000000d;
      }
      @include xl {
        border-radius: var(--theme-border-radius-card);
        padding: 0px;
        box-shadow: 0px 0px 30px 10px #0000000d;
      }
      .prj-card-flex {
        display: flex;
        align-items: center;
        gap: 10px;
        @include sm {
          flex-direction: column;
          gap: 0px;
        }
        @include md {
          flex-direction: column;
          gap: 0px;
        }
        @include lg {
          flex-direction: column;
          gap: 0px;
        }
        @include xl {
          flex-direction: column;
          gap: 0px;
        }
      }
      .prj-card-head {
        width: 32%;
        min-width: 120px;
        @include sm {
          width: 100%;
        }
        @include md {
          width: 100%;
        }
        @include lg {
          width: 100%;
        }
        @include xl {
          width: 100%;
        }
        .prj-card-thumbnail {
          border-radius: 6px;
          @include sm {
            border-radius: var(--theme-border-radius-card)
              var(--theme-border-radius-card) 0 0;
          }
          @include md {
            border-radius: var(--theme-border-radius-card)
              var(--theme-border-radius-card) 0 0;
          }
          @include lg {
            border-radius: var(--theme-border-radius-card)
              var(--theme-border-radius-card) 0 0;
          }
          @include xl {
            border-radius: var(--theme-border-radius-card)
              var(--theme-border-radius-card) 0 0;
          }
        }

        .prj-card-image-link {
          .prj-card-image {
            img {
              aspect-ratio: 1/1;
              display: block;
              width: 100%;
              max-width: 100%;
              @include sm {
                aspect-ratio: 300/206;
                // aspect-ratio: 354.5/260.14;
              }
              @include md {
                aspect-ratio: 300/206;
                // aspect-ratio: 354.5/260.14;
              }
              @include lg {
                // aspect-ratio: 350/237;
                aspect-ratio: 354.5/260.14;
              }
              @include xl {
                // aspect-ratio: 456/309;
                aspect-ratio: 354.5/260.14;
              }
            }
          }
        }
        .swiper-button-prev,
        .swiper-button-next {
          width: 20px;
          height: 20px;
          color: black;
          @include sm {
            width: 32.58px;
            height: 32.58px;
          }
          @include md {
            width: 32.58px;
            height: 32.58px;
          }
          @include lg {
            width: 32.58px;
            height: 32.58px;
          }
          @include xl {
            width: 32.58px;
            height: 32.58px;
          }
          .icon-chevron-lg {
            font-size: 30px;
          }
        }
        .prj-card-category {
          position: absolute;
          top: -10px;
          right: -1px;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 10px;
          line-height: 1.2;
          font-weight: 600;
          color: #fff;
          padding: 6px 4px;
          border-radius: 0 0 0 4.8px;
          // margin-left: 3px;
          margin-left: 2%;
          @include sm {
            // top: -1em;
            // font-size: 14px;
            // line-height: 23.5px;
            // padding: 0.6em 1.4em 0.5em;
            // border-radius: 0 0 0 13.5px;
            top: -1.4em;
            font-size: 14px;
            line-height: 24px;
            padding: 0.9em 0.8em 0.5em;
            border-radius: 0 0 0 16px;
          }
          @include md {
            // top: -1.4em;
            // font-size: 14px;
            // line-height: 23.5px;
            // padding: 0.6em 1.4em 0.5em;
            // border-radius: 0 0 0 13.5px;
            top: -1.4em;
            font-size: 16px;
            line-height: 27px;
            padding: 0.6em 0.8em 0.3em;
            border-radius: 0 0 0 16px;
          }
          @include lg {
            top: -1.4em;
            font-size: 16px;
            line-height: 27px;
            padding: 0.6em 0.8em 0.3em;
            border-radius: 0 0 0 16px;
          }
          @include xl {
            top: -1.4em;
            font-size: 16px;
            line-height: 27px;
            padding: 0.6em 0.8em 0.3em;
            border-radius: 0 0 0 16px;
          }
          span {
            display: -webkit-box;
            -webkit-line-clamp: 1;
            line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }
        }
      }
      .prj-card-body {
        flex: 1;
        @include sm {
          padding: 12px 20px 0px;
        }
        @include md {
          padding: 12px 20px 0px;
        }
        @include lg {
          padding: 12px 20px 0px;
        }
        @include xl {
          padding: 12px 20px 0px;
        }
        .prj-card-title {
          margin-top: 0px;
          margin-bottom: 1px;
          -webkit-line-clamp: 2;
          line-clamp: 2;
          font-weight: 900;
          color: var(--theme-text-primary);
          @include sm {
            margin-bottom: 12px;
            font-size: 16px;
            line-height: 28px;
            font-weight: 700;
            color: var(--text-primary);
          }
          @include md {
            margin-bottom: 12px;
            font-size: 16px;
            line-height: 28px;
            font-weight: 700;
            color: var(--text-primary);
          }
          @include lg {
            margin-bottom: 12px;
            font-size: 16px;
            line-height: 28px;
            font-weight: 700;
            color: var(--text-primary);
          }
          @include xl {
            margin-bottom: 12px;
            font-size: 16px;
            line-height: 28px;
            font-weight: 700;
            color: var(--text-primary);
          }
        }
        .prj-card-text {
          display: none;
          padding-bottom: 13px;
          @include sm {
            display: block;
            font-size: 14px;
            line-height: 20px;
            font-weight: 500;
          }
          @include md {
            display: block;
            font-size: 14px;
            line-height: 20px;
            font-weight: 500;
          }
          @include lg {
            display: block;
            font-size: 14px;
            line-height: 20px;
            font-weight: 500;
          }
          @include xl {
            display: block;
            font-size: 14px;
            line-height: 20px;
            font-weight: 500;
          }
          span {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }
        }
        .prj-card-author-info {
          align-items: flex-end;
          @include sm {
            border-bottom: 0.5px solid #7c7c7c;
            padding-bottom: 13px;
          }
          @include md {
            border-bottom: 0.5px solid #7c7c7c;
            padding-bottom: 13px;
          }
          @include lg {
            border-bottom: 0.5px solid #7c7c7c;
            padding-bottom: 13px;
          }
          @include xl {
            border-bottom: 0.5px solid #7c7c7c;
            padding-bottom: 13px;
          }
          .prj-card-author {
            align-items: flex-start;
            .prj-card-follow {
              gap: 5px;
              margin-top: 5px;
              .prj-card-follow-text,
              .prj-card-follow-count {
                font-size: 12px;
                line-height: 15px;
                font-weight: 500;
                color: var(--text-primary);
              }
              .prj-card-follow-text {
                margin-right: -4px;
              }
              .icon-add-circle-md {
                @include sm {
                  transform: translateY(0px);
                }
                @include md {
                  transform: translateY(0px);
                }
                @include lg {
                  transform: translateY(0px);
                }
                @include xl {
                  transform: translateY(0px);
                }
              }
            }
          }
          .prj-card-actions {
            // @include sm {
            //   gap: 8px;
            // }
            // @include md {
            //   gap: 8px;
            // }
            // @include lg {
            //   gap: 8px;
            // }
            // @include xl {
            //   gap: 8px;
            // }
            .prj-card-like-button,
            .prj-card-bookmark-button {
              @include sm {
                color: #9ba3af;
                // border: 1px solid #9ba3af;
                // border-radius: 50%;
              }
              @include md {
                color: #9ba3af;
                // border: 1px solid #9ba3af;
                // border-radius: 50%;
              }
              @include lg {
                color: #9ba3af;
                // border: 1px solid #9ba3af;
                // border-radius: 50%;
              }
              @include xl {
                color: #9ba3af;
                // border: 1px solid #9ba3af;
                // border-radius: 50%;
              }
              .material-symbols-outlined {
                @include sm {
                  color: #9ba3af;
                }
                @include md {
                  color: #9ba3af;
                }
                @include lg {
                  color: #9ba3af;
                }
                @include xl {
                  color: #9ba3af;
                }
              }
            }
          }
        }
      }
      .prj-card-foot {
        padding-top: 10px;
        gap: 8px;
        @include sm {
          padding: 13px 20px 12px;
        }
        @include md {
          padding: 13px 20px 12px;
        }
        @include lg {
          padding: 13px 20px 12px;
        }
        @include xl {
          padding: 13px 20px 12px;
        }
        .prj-card-date {
          font-size: 12px;
          line-height: 16px;
          color: var(--text-primary);
          display: flex;
          align-items: center;
          gap: 4px;
          .icon-schedule-sm {
            transform: translateY(0px);
          }
        }
        .prj-card-stats {
          font-size: 12px;
          line-height: 16px;
          font-weight: 500;
          .prj-card-views {
            gap: 4px;
            .prj-card-views-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.2px);
            }
          }
          .prj-card-likes {
            gap: 4px;
            .prj-card-likes-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.2px);
            }
          }
          .prj-card-comments {
            gap: 4px;
            .prj-card-comments-icon {
              width: 14px;
              height: 14px;
            }
            span {
              transform: translateY(1.3px);
            }
          }
        }
      }
    }
  }

  .ranking {
    .prj-card-thumbnail {
      border-radius: 6px;
      @include sm {
        border-radius: 0px;
      }
      @include md {
        border-radius: 0px;
      }
      @include lg {
        border-radius: 0px;
      }
      @include xl {
        border-radius: 0px;
      }
    }
    .prj-card-image-link {
      width: 100% !important; //※削除注意。消すとswiperの自動幅計算が上手くいかなくなる
    }
    li {
      position: relative;
      .ranking-number {
        position: absolute;
        top: -1px;
        left: 0;
        overflow: hidden;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        line-height: 1;
        font-weight: 700;
        color: #fff;
        width: 24%;
        aspect-ratio: 1/1;
        border-radius: 0 0 3.34px 0;
        @include sm {
          font-size: 24px;
          width: 19%;
          aspect-ratio: 55.68/49.4;
          box-shadow: 4px 4px 4px 0px #00000026;
          border-radius: 0 0 var(--theme-border-radius-card) 0;
        }
        @include md {
          font-size: 24px;
          width: 19%;
          aspect-ratio: 55.68/49.4;
          box-shadow: 4px 4px 4px 0px #00000026;
          border-radius: 0 0 var(--theme-border-radius-card) 0;
        }
        @include lg {
          font-size: 24px;
          width: 18%;
          aspect-ratio: 64/52;
          box-shadow: 4px 4px 4px 0px #00000026;
          border-radius: 0 0 var(--theme-border-radius-card) 0;
        }
        @include xl {
          font-size: 24px;
          width: 19%;
          aspect-ratio: 83.41/58.07;
          box-shadow: 4px 4px 4px 0px #00000026;
          border-radius: 0 0 var(--theme-border-radius-card) 0;
        }
        &.bg-ranking-1::before {
          content: "1";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
        &.bg-ranking-2::before {
          content: "2";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
        }
        &.bg-ranking-3::before {
          content: "3";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
        }
        &.bg-ranking-4::before {
          content: "4";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-5::before {
          content: "5";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-6::before {
          content: "6";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-7::before {
          content: "7";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-8::before {
          content: "8";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-9::before {
          content: "9";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
        &.bg-ranking-10::before {
          content: "10";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -56%);
          color: #333;
        }
      }
      .prj-card-category {
        display: none !important;
        margin-left: 26% !important;
        @include sm {
          font-size: 14px;
        }
        @include md {
          font-size: 14px;
        }
      }
    }
  }
}
